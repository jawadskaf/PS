{"ast":null,"code":"var _jsxFileName = \"D:\\\\PS\\\\PS\\\\app\\\\src\\\\components\\\\ImageAdd.js\";\nimport React, { useState, Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { addImage, getImage } from \"../actions/actions\";\nimport { connect } from 'react-redux';\nimport actions from '../redux/actions/image';\nimport { FilePond, registerPlugin } from 'react-filepond';\n\nclass ImageAdd extends Component {\n  constructor() {\n    super();\n\n    this.onImageChange = event => {\n      if (event.target.files && event.target.files[0]) {\n        let img = event.target.files[0];\n        this.setState({\n          image: URL.createObjectURL(img)\n        });\n      }\n    };\n\n    this.addOrderHandler = onFileSelect => {\n      const {\n        imageid\n      } = this.state;\n      const {\n        image\n      } = this.state;\n      console.log(image);\n      let data = {\n        imageid: imageid,\n        image: image\n      };\n      this.props.dispatch(actions.addImage(data));\n\n      if (this.props.createMessage) {\n        alert(\"Healthcare product Added\");\n        this.redirectToHome();\n      } else {\n        alert(\"Couldnt Healthcare product\");\n      }\n    };\n\n    this.redirectToHome = () => {\n      const {\n        history\n      } = this.props;\n      if (history) history.push('/Home');\n    };\n\n    this.handleimageChange = event => {\n      // event.preventDefault();\n      let img = event.target.files[0];\n      this.setState({\n        image: event.target.files[0]\n      }); //console.log(event.target.files[0]);\n    };\n\n    this.handlehealthcarequantityChange = event => {\n      event.preventDefault();\n      this.setState({\n        healthcarequantity: event.target.value\n      });\n    };\n\n    this.handleuseridChange = event => {\n      event.preventDefault();\n      this.setState({\n        userid: event.target.value\n      });\n    };\n\n    this.state = {\n      imageid: \"\",\n      image: \"\"\n    };\n    this.onImageChange = this.onImageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch(actions.getImage());\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FilePond, {\n      files: image,\n      onupdatefiles: setFiles,\n      allowMultiple: true,\n      maxFiles: 3,\n      server: \"/api\",\n      name: \"files\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  image: state.imageReducer.image,\n  createMessage: state.imageReducer.createMessage\n});\n\nexport default connect(mapStateToProps)(ImageAdd);","map":{"version":3,"sources":["D:/PS/PS/app/src/components/ImageAdd.js"],"names":["React","useState","Component","Link","addImage","getImage","connect","actions","FilePond","registerPlugin","ImageAdd","constructor","onImageChange","event","target","files","img","setState","image","URL","createObjectURL","addOrderHandler","onFileSelect","imageid","state","console","log","data","props","dispatch","createMessage","alert","redirectToHome","history","push","handleimageChange","handlehealthcarequantityChange","preventDefault","healthcarequantity","value","handleuseridChange","userid","bind","componentDidMount","render","setFiles","mapStateToProps","imageReducer"],"mappings":"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","sourcesContent":["import React, { useState ,Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { addImage,getImage } from \"../actions/actions\";\r\nimport { connect } from 'react-redux';\r\nimport actions from '../redux/actions/image';\r\nimport { FilePond, registerPlugin } from 'react-filepond';\r\n\r\nclass ImageAdd extends Component {\r\n    \r\n    constructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n            imageid: \"\",\r\n            image: \"\",\r\n           \r\n        };\r\n        \r\n        this.onImageChange = this.onImageChange.bind(this);\r\n    }\r\n    onImageChange = event => {\r\n        if (event.target.files && event.target.files[0]) {\r\n          let img = event.target.files[0];\r\n          this.setState({\r\n            image: URL.createObjectURL(img)\r\n          });\r\n        }\r\n      };\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(actions.getImage());\r\n    }\r\n   \r\n    addOrderHandler = (onFileSelect) =>\r\n    {\r\n       \r\n        const {imageid} = this.state;\r\n        const {image} = this.state;\r\n        console.log(image);\r\n\r\n       let data = {\r\n        imageid: imageid,\r\n        image: image, \r\n       }\r\n       this.props.dispatch(actions.addImage(data));\r\n       if(this.props.createMessage){\r\n        alert(\"Healthcare product Added\");\r\n        this.redirectToHome()\r\n    }\r\n    else {\r\n        alert(\"Couldnt Healthcare product\")\r\n    }\r\n    };\r\n    redirectToHome = () => {\r\n        const { history } = this.props;\r\n        if(history) history.push('/Home');\r\n      }\r\n\r\n    //   const FileUploader = ({onFileSelect}) => {\r\n    //     const fileInput = useRef(null)\r\n    \r\n    //     const handleFileInput = (e) => {\r\n    //         // handle validations\r\n    //         onFileSelect(e.target.files[0])\r\n    //     }\r\n\r\n    handleimageChange= (event) => {\r\n       // event.preventDefault();\r\n       let img = event.target.files[0];\r\n        this.setState({ image: event.target.files[0] });\r\n        \r\n        //console.log(event.target.files[0]);\r\n        \r\n    };\r\n\r\n\r\n    handlehealthcarequantityChange = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ healthcarequantity: event.target.value });\r\n    };\r\n    handleuseridChange = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ userid: event.target.value });\r\n    };\r\n\r\n\r\n  \r\n    \r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div className=\"row mt-5\">\r\n                <FilePond\r\n        files={image}\r\n        onupdatefiles={setFiles}\r\n        allowMultiple={true}\r\n        maxFiles={3}\r\n        server=\"/api\"\r\n        name=\"files\"\r\n     \r\n      />\r\n                 </div > \r\n                 \r\n    );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state =>({\r\n    image: state.imageReducer.image,\r\n    createMessage: state.imageReducer.createMessage,\r\n  })\r\n\r\n\r\nexport default connect(mapStateToProps)(ImageAdd);\r\n\r\n"]},"metadata":{},"sourceType":"module"}