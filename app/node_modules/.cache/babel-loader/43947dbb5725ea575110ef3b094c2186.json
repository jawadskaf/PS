{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STATE = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar STATE = exports.STATE = {\n  LOADING: 'loading',\n  DISABLED: 'disabled',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  NOTHING: ''\n};\nvar ProgressButton = (0, _createReactClass2.default)({\n  displayName: 'ProgressButton',\n  propTypes: {\n    classNamespace: _propTypes2.default.string,\n    controlled: _propTypes2.default.bool,\n    durationError: _propTypes2.default.number,\n    durationSuccess: _propTypes2.default.number,\n    form: _propTypes2.default.string,\n    onClick: _propTypes2.default.func,\n    onError: _propTypes2.default.func,\n    onSuccess: _propTypes2.default.func,\n    state: _propTypes2.default.oneOf(Object.keys(STATE).map(function (k) {\n      return STATE[k];\n    })),\n    type: _propTypes2.default.string,\n    shouldAllowClickOnLoading: _propTypes2.default.bool\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      classNamespace: 'pb-',\n      controlled: false,\n      durationError: 1200,\n      durationSuccess: 500,\n      onClick: function onClick() {},\n      onError: function onError() {},\n      onSuccess: function onSuccess() {},\n      shouldAllowClickOnLoading: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      currentState: this.props.state || STATE.NOTHING\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.state === this.props.state) {\n      return;\n    }\n\n    switch (nextProps.state) {\n      case STATE.SUCCESS:\n        this.success();\n        return;\n\n      case STATE.ERROR:\n        this.error();\n        return;\n\n      case STATE.LOADING:\n        this.loading();\n        return;\n\n      case STATE.DISABLED:\n        this.disable();\n        return;\n\n      case STATE.NOTHING:\n        this.notLoading();\n        return;\n\n      default:\n        return;\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this._timeout);\n  },\n  render: function render() {\n    var _props = this.props,\n        className = _props.className,\n        classNamespace = _props.classNamespace,\n        children = _props.children,\n        type = _props.type,\n        form = _props.form,\n        durationError = _props.durationError,\n        durationSuccess = _props.durationSuccess,\n        onClick = _props.onClick,\n        onError = _props.onError,\n        onSuccess = _props.onSuccess,\n        state = _props.state,\n        shouldAllowClickOnLoading = _props.shouldAllowClickOnLoading,\n        controlled = _props.controlled,\n        containerProps = _objectWithoutProperties(_props, ['className', 'classNamespace', 'children', 'type', 'form', 'durationError', 'durationSuccess', 'onClick', 'onError', 'onSuccess', 'state', 'shouldAllowClickOnLoading', 'controlled']);\n\n    containerProps.className = classNamespace + 'container ' + this.state.currentState + ' ' + className;\n    containerProps.onClick = this.handleClick;\n    return _react2.default.createElement('div', containerProps, _react2.default.createElement('button', {\n      disabled: state === STATE.DISABLED,\n      type: type,\n      form: form,\n      className: classNamespace + 'button'\n    }, _react2.default.createElement('span', null, children), _react2.default.createElement('svg', {\n      className: classNamespace + 'progress-circle',\n      viewBox: '0 0 41 41'\n    }, _react2.default.createElement('path', {\n      d: 'M38,20.5 C38,30.1685093 30.1685093,38 20.5,38'\n    })), _react2.default.createElement('svg', {\n      className: classNamespace + 'checkmark',\n      viewBox: '0 0 70 70'\n    }, _react2.default.createElement('path', {\n      d: 'm31.5,46.5l15.3,-23.2'\n    }), _react2.default.createElement('path', {\n      d: 'm31.5,46.5l-8.5,-7.1'\n    })), _react2.default.createElement('svg', {\n      className: classNamespace + 'cross',\n      viewBox: '0 0 70 70'\n    }, _react2.default.createElement('path', {\n      d: 'm35,35l-9.3,-9.3'\n    }), _react2.default.createElement('path', {\n      d: 'm35,35l9.3,9.3'\n    }), _react2.default.createElement('path', {\n      d: 'm35,35l-9.3,9.3'\n    }), _react2.default.createElement('path', {\n      d: 'm35,35l9.3,-9.3'\n    }))));\n  },\n  handleClick: function handleClick(e) {\n    if (this.props.controlled) {\n      this.props.onClick(e);\n      return true;\n    }\n\n    if ((this.props.shouldAllowClickOnLoading || this.state.currentState !== STATE.LOADING) && this.state.currentState !== STATE.DISABLED) {\n      this.loading();\n      var ret = this.props.onClick(e);\n      this.handlePromise(ret);\n    } else {\n      e.preventDefault();\n    }\n  },\n  handlePromise: function handlePromise(promise) {\n    var _this = this;\n\n    if (promise && promise.then && promise.catch) {\n      promise.then(function () {\n        _this.success();\n      }).catch(function (err) {\n        _this.error(null, err);\n      });\n    }\n  },\n  loading: function loading() {\n    this.setState({\n      currentState: STATE.LOADING\n    });\n  },\n  notLoading: function notLoading() {\n    this.setState({\n      currentState: STATE.NOTHING\n    });\n  },\n  enable: function enable() {\n    this.setState({\n      currentState: STATE.NOTHING\n    });\n  },\n  disable: function disable() {\n    this.setState({\n      currentState: STATE.DISABLED\n    });\n  },\n  success: function success(callback, dontRemove) {\n    var _this2 = this;\n\n    this.setState({\n      currentState: STATE.SUCCESS\n    });\n    this._timeout = setTimeout(function () {\n      if (!dontRemove) {\n        _this2.setState({\n          currentState: STATE.NOTHING\n        });\n      }\n\n      callback = callback || _this2.props.onSuccess;\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }, this.props.durationSuccess);\n  },\n  error: function error(callback, err) {\n    var _this3 = this;\n\n    this.setState({\n      currentState: STATE.ERROR\n    });\n    this._timeout = setTimeout(function () {\n      _this3.setState({\n        currentState: STATE.NOTHING\n      });\n\n      callback = callback || _this3.props.onError;\n\n      if (typeof callback === 'function') {\n        callback(err);\n      }\n    }, this.props.durationError);\n  }\n});\nexports.default = ProgressButton;","map":{"version":3,"sources":["D:/PS/PS/app/node_modules/react-progress-button/lib/index.js"],"names":["Object","defineProperty","exports","value","STATE","undefined","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_createReactClass","_createReactClass2","obj","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","call","LOADING","DISABLED","SUCCESS","ERROR","NOTHING","ProgressButton","displayName","propTypes","classNamespace","string","controlled","bool","durationError","number","durationSuccess","form","onClick","func","onError","onSuccess","state","oneOf","map","k","type","shouldAllowClickOnLoading","getDefaultProps","getInitialState","currentState","props","componentWillReceiveProps","nextProps","success","error","loading","disable","notLoading","componentWillUnmount","clearTimeout","_timeout","render","_props","className","children","containerProps","handleClick","createElement","disabled","viewBox","d","e","ret","handlePromise","preventDefault","promise","_this","then","catch","err","setState","enable","callback","dontRemove","_this2","setTimeout","_this3"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STATE = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar STATE = exports.STATE = {\n  LOADING: 'loading',\n  DISABLED: 'disabled',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  NOTHING: ''\n};\n\nvar ProgressButton = (0, _createReactClass2.default)({\n  displayName: 'ProgressButton',\n\n  propTypes: {\n    classNamespace: _propTypes2.default.string,\n    controlled: _propTypes2.default.bool,\n    durationError: _propTypes2.default.number,\n    durationSuccess: _propTypes2.default.number,\n    form: _propTypes2.default.string,\n    onClick: _propTypes2.default.func,\n    onError: _propTypes2.default.func,\n    onSuccess: _propTypes2.default.func,\n    state: _propTypes2.default.oneOf(Object.keys(STATE).map(function (k) {\n      return STATE[k];\n    })),\n    type: _propTypes2.default.string,\n    shouldAllowClickOnLoading: _propTypes2.default.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      classNamespace: 'pb-',\n      controlled: false,\n      durationError: 1200,\n      durationSuccess: 500,\n      onClick: function onClick() {},\n      onError: function onError() {},\n      onSuccess: function onSuccess() {},\n\n      shouldAllowClickOnLoading: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      currentState: this.props.state || STATE.NOTHING\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.state === this.props.state) {\n      return;\n    }\n    switch (nextProps.state) {\n      case STATE.SUCCESS:\n        this.success();\n        return;\n      case STATE.ERROR:\n        this.error();\n        return;\n      case STATE.LOADING:\n        this.loading();\n        return;\n      case STATE.DISABLED:\n        this.disable();\n        return;\n      case STATE.NOTHING:\n        this.notLoading();\n        return;\n      default:\n        return;\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this._timeout);\n  },\n  render: function render() {\n    var _props = this.props,\n        className = _props.className,\n        classNamespace = _props.classNamespace,\n        children = _props.children,\n        type = _props.type,\n        form = _props.form,\n        durationError = _props.durationError,\n        durationSuccess = _props.durationSuccess,\n        onClick = _props.onClick,\n        onError = _props.onError,\n        onSuccess = _props.onSuccess,\n        state = _props.state,\n        shouldAllowClickOnLoading = _props.shouldAllowClickOnLoading,\n        controlled = _props.controlled,\n        containerProps = _objectWithoutProperties(_props, ['className', 'classNamespace', 'children', 'type', 'form', 'durationError', 'durationSuccess', 'onClick', 'onError', 'onSuccess', 'state', 'shouldAllowClickOnLoading', 'controlled']);\n\n    containerProps.className = classNamespace + 'container ' + this.state.currentState + ' ' + className;\n    containerProps.onClick = this.handleClick;\n    return _react2.default.createElement(\n      'div',\n      containerProps,\n      _react2.default.createElement(\n        'button',\n        { disabled: state === STATE.DISABLED, type: type, form: form, className: classNamespace + 'button' },\n        _react2.default.createElement(\n          'span',\n          null,\n          children\n        ),\n        _react2.default.createElement(\n          'svg',\n          { className: classNamespace + 'progress-circle', viewBox: '0 0 41 41' },\n          _react2.default.createElement('path', { d: 'M38,20.5 C38,30.1685093 30.1685093,38 20.5,38' })\n        ),\n        _react2.default.createElement(\n          'svg',\n          { className: classNamespace + 'checkmark', viewBox: '0 0 70 70' },\n          _react2.default.createElement('path', { d: 'm31.5,46.5l15.3,-23.2' }),\n          _react2.default.createElement('path', { d: 'm31.5,46.5l-8.5,-7.1' })\n        ),\n        _react2.default.createElement(\n          'svg',\n          { className: classNamespace + 'cross', viewBox: '0 0 70 70' },\n          _react2.default.createElement('path', { d: 'm35,35l-9.3,-9.3' }),\n          _react2.default.createElement('path', { d: 'm35,35l9.3,9.3' }),\n          _react2.default.createElement('path', { d: 'm35,35l-9.3,9.3' }),\n          _react2.default.createElement('path', { d: 'm35,35l9.3,-9.3' })\n        )\n      )\n    );\n  },\n  handleClick: function handleClick(e) {\n    if (this.props.controlled) {\n      this.props.onClick(e);\n      return true;\n    }\n\n    if ((this.props.shouldAllowClickOnLoading || this.state.currentState !== STATE.LOADING) && this.state.currentState !== STATE.DISABLED) {\n      this.loading();\n      var ret = this.props.onClick(e);\n      this.handlePromise(ret);\n    } else {\n      e.preventDefault();\n    }\n  },\n  handlePromise: function handlePromise(promise) {\n    var _this = this;\n\n    if (promise && promise.then && promise.catch) {\n      promise.then(function () {\n        _this.success();\n      }).catch(function (err) {\n        _this.error(null, err);\n      });\n    }\n  },\n  loading: function loading() {\n    this.setState({ currentState: STATE.LOADING });\n  },\n  notLoading: function notLoading() {\n    this.setState({ currentState: STATE.NOTHING });\n  },\n  enable: function enable() {\n    this.setState({ currentState: STATE.NOTHING });\n  },\n  disable: function disable() {\n    this.setState({ currentState: STATE.DISABLED });\n  },\n  success: function success(callback, dontRemove) {\n    var _this2 = this;\n\n    this.setState({ currentState: STATE.SUCCESS });\n    this._timeout = setTimeout(function () {\n      if (!dontRemove) {\n        _this2.setState({ currentState: STATE.NOTHING });\n      }\n      callback = callback || _this2.props.onSuccess;\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }, this.props.durationSuccess);\n  },\n  error: function error(callback, err) {\n    var _this3 = this;\n\n    this.setState({ currentState: STATE.ERROR });\n    this._timeout = setTimeout(function () {\n      _this3.setState({ currentState: STATE.NOTHING });\n      callback = callback || _this3.props.onError;\n      if (typeof callback === 'function') {\n        callback(err);\n      }\n    }, this.props.durationError);\n  }\n});\n\nexports.default = ProgressButton;"]},"metadata":{},"sourceType":"script"}